<!doctype html>

<html>

<head>

	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<meta charset="utf-8">

	<title>Maps jQuery Plugin</title>
	
	<meta name="description" content="">
	
	<meta name="author" content="http://michaelynch.com">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link rel="stylesheet" type="text/css" media="screen" href="../src/css/styles.css">
	
</head>

	<body lang="en">
	
		<div class="map map--facebook" data-latitude="37.485013" data-longitude="-122.148499">
		
			<div class="map__info hide">
		
				<h2>Facebook</h2>
				
				<p>
					1 Hacker Way
					<br>Menlo Park, CA
					<br>94025
				</p>
			
			</div>
		
		</div>

		<div class="map map--twitter" data-latitude="37.776942" data-longitude="-122.416798">
			
			<div class="map__info hide">
		
				<h2>Twitter</h2>
				
				<p>
					1355 Market St
					<br>San Francisco, CA
					<br>94103
				</p>
			
			</div>
			
		</div>
		
		<div class="map map--dropbox" data-latitude="37.776753" data-longitude="-122.392045">
			
			<div class="map__info hide">
		
				<h2>Dropbox</h2>
				
				<p>
					185 Barry St.
					<br>San Francisco, CA
					<br>94107
				</p>
			
			</div>
			
		</div>
		
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		
		<script src="http://maps.google.com/maps/api/js?v=3&sensor=true"></script>
		
		<script src="../src/maps.js"></script>
		
		<script>
		
			if($('.map').length) {
			
				$('.map').each(function(index) {
				
					var thisLat = $(this).data('latitude'),
						thisLng = $(this).data('longitude');
			
					$(this).maps({
						lat: thisLat,
						lng: thisLng,
						zoom: 12,
						markers: [{
							lat: thisLat,
							lng: thisLng,
							info_window: {
								template: $(this).children('.map__info').html()
							}
						}],
						success: function() {
							console.log('Plugin succeeded.');
						},
						error: function() {
							console.log('Plugin failed');
						}
					});
					
				});
			}
		
		</script>

	</body>
	
</html>