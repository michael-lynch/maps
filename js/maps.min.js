/*!

Name: Maps
Dependencies: jQuery
Author: Michael Lynch
Author URL: http://michaelynch.com
Date Created: June 25 2015
Licensed under the MIT license

*/

!function(e){e.fn.maps=function(l){if(!this.length)return this;var n={load_api:!0,lat:null,lng:null,zoom:8,markers:[],scrollwheel:!1,draggable:!0,disable_ui:!1,zoom_control:!0,styles:[],success:function(){},error:function(){}},o=e(this),a=e.extend({},n,l),r=function(e){if(e.map){var l=new google.maps.LatLng(e.lat,e.lng),n=new google.maps.Marker({position:l?l:null,map:e.map?e.map:null,title:e.title?e.title:null,icon:e.icon?e.icon:null});return n}return!1},t=function(e){var l=e.template,n=new google.maps.InfoWindow({content:l});google.maps.event.addListener(e.marker,"click",function(){n.open(e.map,e.marker)})},s=function(){var e={center:{lat:a.lat,lng:a.lng},zoom:a.zoom,scrollwheel:a.scrollwheel,draggable:a.draggable,disableDefaultUI:a.disable_ui,zoomControl:a.zoom_control},l=new google.maps.Map(o[0],e);if(a.styles.length&&l.set("styles",a.styles),a.markers)for(var n=0;n<a.markers.length;n++){var s=r({map:l,lat:a.markers[n].lat,lng:a.markers[n].lng,icon:a.markers[n].icon?a.markers[n].icon:null});s&&a.markers[n].info_window.template&&t({map:l,marker:s,template:a.markers[n].info_window.template})}a.success.call(this)};window.google?s():a.error.call(this)}}(jQuery);